{"version":3,"sources":["components/Navbar.js","requests/index.js","components/NewNote.js","helper/index.js","components/Note.js","components/Modal.js","components/NotesContainer.js","components/Home.js","Router.js","serviceWorker.js","index.js"],"names":["iconSize","StyledIcon","styled","div","_templateObject","Tooltip","label","_templateObject2","props","visible","darkTheme","ToggleThemeButton","_ref","onClick","_useState","useState","_useState2","Object","slicedToArray","showTooltip","setShowTooltip","hide","icon","react_default","a","createElement","index_esm","size","style","marginRight","onMouseEnter","onBlur","onMouseLeave","tabindex","NavDiv","_templateObject3","HomeSpan","_templateObject4","React","memo","id","e","toggleTheme","prevProps","nextProps","defaultOptions","method","headers","Content-Type","api","addNoteRequest","_ref2","asyncToGenerator","regenerator_default","mark","_callee","title","text","options","wrap","_context","prev","next","objectSpread","body","addNoteMutation","abrupt","fetch","then","res","json","stop","_x","apply","this","arguments","_ref3","concat","getAllNotesRequest","_ref4","_callee2","_context2","getAllNotesQuery","editNoteRequest","_ref6","_callee3","_ref5","_context3","editNoteMutation","_x2","_ref7","note","setNote","setShowTitle","setDisabled","notes","setNotes","newNote","updatedNotes","document","getElementById","innerHTML","sent","data","toConsumableArray","TitleInput","showTitle","AddNoteInput","name","suppressContentEditableWarning","contentEditable","data-placeholder","onInput","updateState","bind","onKeyDown","preventLineBreak","TextInput","event","titleOrText","target","getAttribute","val","defineProperty","length","keyCode","preventDefault","querySelector","focus","AddNoteContainer","NewNote_templateObject","span","NewNote_templateObject2","AddNoteButton","button","NewNote_templateObject3","disabled","_useState3","_useState4","isDisabled","handleAddNoteArgs","nativeEvent","revealTitle","autoComplete","type","handleAddNote","placeCaretAtEnd","el","window","getSelection","createRange","range","selectNodeContents","collapse","sel","removeAllRanges","addRange","createTextRange","textRange","moveToElementText","select","findColNum","Math","floor","innerWidth","replaceEscapedStringWithHtmlElement","string","includes","replace","split","map","s","index","Fragment","Note","_ref$note","openNoteInModal","correctedText","NoteBox","NoteTitle","NoteText","Note_templateObject","Note_templateObject2","Note_templateObject3","ModalBackground","Modal_templateObject","ModalDiv","Modal_templateObject2","EditNoteTitle","Modal_templateObject3","EditNoteText","Modal_templateObject4","EditNoteButton","_templateObject5","Modal","modal","setModal","saveChanges","updateUI","modified","handleInput","newValue","key","useEffect","whereAutofocus","show","onMouseDown","htmlId","visibility","newTitle","newText","closeModal","requestDelay","Column","NotesContainer_templateObject","width","ColumnGroup","NotesContainer_templateObject2","notesVersion","setNotesVersion","otherProps","objectWithoutProperties","loading","setLoading","_useState5","_useState6","modalNote","setModalNote","_useState7","_useState8","colNum","setColNum","childUniqueKey","requestTimer","useRef","allNotes","updateColNums","onresize","removeEventListener","display","justifyContent","alignItems","height","react_loader_spinner_default","color","numberOfNotes","columns","i","push","currentNote","noteComponent","assign","columnWidth","column","components_Modal","current","clearTimeout","setTimeout","some","updatedNote","updateNotes","hideTitle","titleElement","HomeDiv","Home_templateObject","Home2","_useDarkTheme","isDark","setDarkTheme","useDarkTheme","_useDarkTheme2","Navbar","components_NewNote","NotesContainer","Router","BrowserRouter","Switch","Route","path","component","Home","Component","Boolean","location","hostname","match","ReactDOM","render","Router_Router","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.f41b407d.chunk.js","sourcesContent":["import React, { useState } from 'react'\r\nimport styled from 'styled-components'\r\nimport { IoMdMoon, IoMdSunny } from 'react-icons/io'\r\n// constants\r\nconst iconSize = '2em'\r\n\r\nfunction Navbar2 (props) {\r\n\tfunction toggleTheme(e) {\r\n\t\tprops.toggleTheme()\r\n\t}\r\n\treturn (\r\n\t\t<NavDiv>\r\n\t\t\t<HomeSpan>Home</HomeSpan>\r\n\t\t\t<ToggleThemeButton id='theme' \r\n\t\t\tonClick={toggleTheme} darkTheme={props.darkTheme} />\r\n\t\t</NavDiv>\r\n\t)\r\n}\r\n\r\nconst StyledIcon = styled.div`\r\n    cursor: pointer;\r\n    :hover {\r\n        color: gray;\r\n    }\r\n`\r\nconst Tooltip = styled.label`\r\n    visibility: ${props => props.visible ? `visible` : `hidden`};\r\n    font-size: 0.8em;\r\n    background: ${props => props.darkTheme ? `white` : `black`};\r\n    color: ${props => props.darkTheme ? `black` : `white`};\r\n    border-radius: 5px;\r\n    padding: 3px;\r\n    position: absolute;\r\n    right: 8px;\r\n    @media only screen and (min-width: 1080px) {\r\n        right: 30px;\r\n    }\r\n`\r\n\r\nfunction ToggleThemeButton({darkTheme, onClick}) {\r\n    const [showTooltip, setShowTooltip] = useState(false)\r\n    const reveal = () => setShowTooltip(true)\r\n    const hide = () => setShowTooltip(false)\r\n    const icon = darkTheme ? <IoMdSunny size={iconSize} /> : <IoMdMoon size={iconSize} />\r\n    return (\r\n        <div style={{marginRight: '30px'}}>\r\n            <StyledIcon onClick={onClick} onMouseEnter={reveal} onBlur={hide}\r\n            onMouseLeave={hide} tabindex=\"0\">{icon}</StyledIcon>\r\n            <Tooltip visible={showTooltip} darkTheme={darkTheme}>Toggle theme</Tooltip>\r\n        </div>\r\n    ) \r\n}\r\n\r\nfunction areEqual(prevProps, nextProps) {\r\n\tif (prevProps.darkTheme !== nextProps.darkTheme) return false\r\n\treturn true\r\n}\r\n\r\nconst NavDiv = styled.div`\r\n    id: nav;\r\n    background: inherit;\r\n    // background: green;\r\n    height: 60px;\r\n    display:flex;\r\n    align-items: center;\r\n    justify-content: space-between;\r\n\r\n    @media only screen and (min-width: 1080px) {\r\n        height: 70px;\r\n        margin-left: 10px;\r\n        margin-right: 10px;\r\n    } \r\n`\r\n\r\nconst HomeSpan = styled.div`\r\n    margin-left: 1%;\r\n    background: inherit;\r\n    font-size: 24px;\r\n    \r\n    @media only screen and (max-width: 1080px) {\r\n        font-size: 26px;\r\n    }\r\n    `\r\n\r\nexport default React.memo(Navbar2, areEqual)","const defaultOptions = {\r\n\tmethod: 'POST',\r\n\theaders: { 'Content-Type': 'application/json' },\r\n}\r\n\r\n// const api = process.env.NODE_ENV === 'production'? '/graphql' : `http://${document.location.hostname}:5000/graphql`\r\nlet api = 'https://shielded-crag-97187.herokuapp.com/graphql'\r\nif (process.env.NODE_ENV === 'heroku') api = '/graphql'\r\nelse if (process.env.NODE_ENV === 'development') api = `http://${document.location.hostname}:5000/graphql`\r\n\r\nexport const addNoteRequest = async ({title, text}) => {\r\n\tconst options = {\r\n\t\t...defaultOptions,\r\n\t\tbody: addNoteMutation({title, text})\r\n\t}\r\n\treturn fetch(api, options).then(res => res.json())\r\n}\r\nconst addNoteMutation =  ({title, text}) => {\r\n\treturn `{\"variables\": {\"input\": {\"title\": \"${title}\", \"text\": \"${text}\"}},\"query\":\"mutation change($input: NewNote){ newNote: addNote(input: $input) {id title text } }\"}`\r\n}\r\n\r\n\r\nexport const getAllNotesRequest = async () => {\r\n\tconst options = {\r\n\t\t...defaultOptions,\r\n\t\tbody: getAllNotesQuery\r\n\t}\r\n\treturn fetch(api, options).then(res => res.json())\r\n}\r\nconst getAllNotesQuery = '{\"query\":\"{ allNotes: getAllNotes {id title text } }\"}'\r\n\r\n\r\nexport const editNoteRequest = async ({id, title, text}) => {\r\n\tconst options = {\r\n\t\t...defaultOptions,\r\n\t\tbody: editNoteMutation({id, title, text})\r\n\t}\r\n\treturn fetch(api, options).then(res => res.json())\r\n}\r\nconst editNoteMutation = ({id, title, text}) => {\r\n\treturn `{\"variables\": {\"input\": {\"id\": \"${id}\", \"title\": \"${title}\", \"text\": \"${text}\"}},\"query\":\"mutation edit($input: EditNote){ editNote(input: $input) {id title text } }\"}`\r\n}","import React, {useState} from 'react'\r\nimport styled from 'styled-components'\r\nimport {addNoteRequest} from '../requests'\r\n\r\nfunction NewNote (props) {\r\n\tconst [note, setNote] = useState({title: '', text: ''})\r\n\tconst [isDisabled, setDisabled] = useState(true)\r\n\tconst {notes, setNotes, showTitle, setShowTitle, darkTheme} = props\r\n\r\n\tconst handleAddNoteArgs = {\r\n\t\tnote, setNote, setShowTitle, setDisabled, notes, setNotes\r\n\t}\r\n\r\n\treturn ( \r\n\t\t<AddNoteContainer id='addNoteContainer'\r\n\t\tonClick={e => revealTitle(setShowTitle, e)}\r\n\t\tdarkTheme={darkTheme}\r\n\t\tautoComplete='off'>\r\n\t\t\t<TitleInput setDisabled={setDisabled}\r\n\t\t\tshowTitle={showTitle} note={note}\r\n\t\t\tsetNote={setNote}/>\r\n\t\t\t<TextInput setDisabled={setDisabled} \r\n\t\t\tsetNote={setNote} note={note} />\r\n\t\t\t{\r\n\t\t\t\tshowTitle ? \r\n\t\t\t\t<AddNoteButton id='addnote'\r\n\t\t\t\ttype='submit' disabled={isDisabled}\r\n\t\t\t\tonClick={() => handleAddNote(handleAddNoteArgs)} \r\n\t\t\t\tdarkTheme={darkTheme}>Add\r\n\t\t\t\t</AddNoteButton> : null\r\n\t\t\t}\r\n\t\t</AddNoteContainer>\r\n\t)\r\n}\r\n\r\nfunction revealTitle (setShowTitle, e) {\r\n\tconst id = e.nativeEvent.target.id\r\n\t// ignore add note button to avoid collision\r\n\tif(id === 'addnote') return\r\n\tsetShowTitle(true)\r\n}\r\n\r\nasync function handleAddNote ({note, setNote, setShowTitle, setDisabled, notes, setNotes}) {\r\n\tlet {title, text} = note\r\n\r\n\t// state and div innerHTML are no longer linked so need to manually clear each, linking them makes typing the text go the wrong way\r\n\tdocument.getElementById('title').innerHTML = ''\r\n\tdocument.getElementById('text').innerHTML = ''\r\n\r\n\t// clear state, hide title and disable button\r\n\tsetNote({title: '', text: ''})\t\t\r\n\tsetDisabled(true)\r\n\tsetShowTitle(false)\r\n\r\n\tconst {data: {newNote}} = await addNoteRequest({title, text})\r\n\r\n\t// update ui\r\n\tconst updatedNotes = [newNote, ...notes] // must create new object(therefore new reference) or else react won't know state has changed and will bail out without rendering children or firing effects, this is because for OBJECTS, react compares references instead of values\r\n\tsetNotes(updatedNotes)\r\n}\r\n\r\n\r\nfunction TitleInput({note, setNote, setDisabled, showTitle}) {\r\n\treturn showTitle ? \r\n\t<AddNoteInput id='title' name='title' suppressContentEditableWarning={true}\r\n    contentEditable data-placeholder='Add a title...' \r\n    onInput={updateState.bind(this, note, setNote, setDisabled)}\r\n    onKeyDown={preventLineBreak}/> : null\r\n}\r\n\r\nfunction TextInput({note, setNote, setDisabled}) {\r\n\treturn (\r\n\t\t<AddNoteInput id='text' name='text' contentEditable\r\n\t\t\tsuppressContentEditableWarning={true} data-placeholder='Add a note...'\r\n\t\t\tonInput={updateState.bind(this, note, setNote, setDisabled)}/>\r\n\t)\r\n}\r\n\r\nfunction updateState (note, setNote, setDisabled, event) {\r\n\tlet titleOrText = event.target.getAttribute('name')\r\n\tconst val = event.target.innerHTML\r\n\tnote = {...note,  [titleOrText]: val}\r\n\tsetNote(note)\r\n\r\n\t// disable add note button if no text AND no title\r\n\tif (note.title.length === 0 && note.text.length === 0) \r\n\t\tsetDisabled(true)\r\n\telse setDisabled(false)\r\n}\r\n\r\nfunction preventLineBreak (e) {\r\n\t// prevent 'enter' key from creating line break in title box\r\n\tif (e.keyCode === 13) {\r\n\t\te.preventDefault()\r\n\t\t// instead go to TextInputBox\r\n\t\tdocument.querySelector('#text').focus()\r\n\t}\r\n}\r\n\r\nconst AddNoteContainer = styled.div`\r\n    background: ${props => props.darkTheme ? `rgb(40, 40, 40)` : `white`};\r\n    border-radius: 5px;\r\n    box-shadow: 0px 1px 3px rgba(0, 0, 0, 0.05) inset, 0px 0px 8px ${props => props.darkTheme ? `white` : `#999999`};\r\n    margin-right:auto;\r\n    margin-left: auto;\r\n    margin-top: 2em;\r\n    width:97%;\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    justify-content: space-around;\r\n    /*background:*/\r\n    \r\n    @media only screen and (min-width: 1080px) {\r\n        width:40%;\r\n    }\r\n`\r\n    // border: solid 1px;\r\n// TODO: change this to span to prevent submission of empty notes that have been cleared after typing some characters\r\nconst AddNoteInput = styled.span`\r\n    border:none;\r\n    width:96%;\r\n    border-radius: 10px;\r\n    padding: 1%;\r\n    margin: 0.5em;\r\n    font-size: 18px;\r\n    word-wrap: break-word;\r\n\r\n    :empty:before {\r\n        content:attr(data-placeholder);\r\n        color: gray;\r\n    }\r\n    :focus {outline: 0;}\r\n`\r\n\r\nconst AddNoteButton = styled.button`\r\n    cursor: ${props => props.disabled ? `normal` : `pointer`};\r\n    background: inherit;\r\n    border-radius: 10px;\r\n    border: none;\r\n    padding: 0.2em 0.5em 0.2em 0.5em;\r\n    margin-right: 0.5em;\r\n    margin-bottom: 0.3em;\r\n    color: inherit;\r\n    font-size: 16px;\r\n    border: solid 1px transparent;\r\n    align-self: flex-end;\r\n    ${\r\n        // no hover if disabled\r\n        props => props.disabled ? null :\r\n        `:hover {\r\n            border: solid 1px ${props.darkTheme ? `white` : `black`};\r\n        }`\r\n    }\r\n`\r\n\r\nfunction areEqual (prevProps, nextProps) {\r\n\tif (prevProps.showTitle !== nextProps.showTitle) return false\r\n\tif (prevProps.darkTheme !== nextProps.darkTheme) return false\r\n\treturn true\r\n}\r\n\r\nexport default React.memo(NewNote, areEqual)","import React from 'react'\r\n\r\nexport function placeCaretAtEnd(el) {\r\n    el.focus();\r\n    if (typeof window.getSelection != \"undefined\"\r\n            && typeof document.createRange != \"undefined\") {\r\n        var range = document.createRange();\r\n        range.selectNodeContents(el);\r\n        range.collapse(false);\r\n        var sel = window.getSelection();\r\n        sel.removeAllRanges();\r\n        sel.addRange(range);\r\n    } else if (typeof document.body.createTextRange != \"undefined\") {\r\n        var textRange = document.body.createTextRange();\r\n        textRange.moveToElementText(el);\r\n        textRange.collapse(false);\r\n        textRange.select();\r\n    }\r\n}\r\n\r\nexport const findColNum = () => Math.floor(window.innerWidth / 300)\r\n\r\n// paragraph separators such as <br> and <div> in contentEditable html elements are escaped\r\n// meaning they are intrepreted as strings instead of html elements\r\n// this function should replace the strings with the html elements so we can display line breaks created by that html\r\nexport function replaceEscapedStringWithHtmlElement(string) {\r\n    debugger\r\n\tif (string.includes('<div>')) {\r\n\t\tstring = string.replace(/<\\/div>/g,'')\r\n\t\tstring = string.replace(/<div>/g,'<br>')\r\n\t}\r\n\treturn string.split('<br>').map((s, index) => index !== 0 ? <><br/>{s}</> : s)\r\n}","import React from 'react'\r\nimport styled from 'styled-components'\r\nimport {replaceEscapedStringWithHtmlElement} from '../helper'\r\n\r\nexport default function Note({note: {id, title, text}, openNoteInModal, darkTheme}) {\r\n\tconst correctedText = replaceEscapedStringWithHtmlElement(text)\r\n\t\r\n\treturn (\r\n\t\t<NoteBox id={id} darkTheme={darkTheme} onClick={e => openNoteInModal(e, {id, title, text})}>\r\n\t\t\t<NoteTitle id='noteTitle'>{title}</NoteTitle>\r\n\t\t\t<NoteText id='noteText'>{correctedText}</NoteText>\r\n\t\t</NoteBox>\r\n\t)\r\n}\r\n\r\nconst NoteBox = styled.div`\r\n    background: ${props => props.darkTheme ? `rgb(40, 40, 40)` : `white`};\r\n    border-radius: 5px;\r\n    margin: 3% 1% 3% 1%;\r\n    padding: 3%;\r\n\tdisplay: flex;\r\n\t// word-wrap: anywhere;\r\n\tword-break: break-word;\r\n    flex-direction: column;\r\n    justify-content: flex-start;\r\n    @media only screen and (min-width: 1080px) {\r\n\t\tmargin: 3%;\r\n\t}\r\n\tborder: solid 1px ${props => props.darkTheme ? `#666666` : `#999999`};\r\n\t:hover {\r\n\t\tbox-shadow: 0px 1px 4px ${props => props.darkTheme ? `white` : `black`}\r\n\t}\r\n`\r\nconst NoteTitle = styled.span`\r\n    font-size: 20px;\r\n    `\r\nconst NoteText = styled.span`\r\n    margin-top: 1em;\r\n    height: 100%; //make it fill up the rest of the noteBox\r\n`","import React, {useEffect} from 'react'\r\nimport styled from 'styled-components'\r\nimport {placeCaretAtEnd, replaceEscapedStringWithHtmlElement} from '../helper'\r\n\r\nfunction Modal({note: {id, title, text}, modal, setModal, saveChanges, updateUI, darkTheme}) {\r\n\tlet modified = false\r\n\r\n\tconst closeModal = htmlId => {\r\n\t\tif (htmlId === 'modalBackground') {\r\n\t\t\tsetModal({show: false, whereAutofocus: ''})\r\n\r\n\t\t\t// restore note when modal closes\r\n\t\t\tlet noteBox = document.getElementById(id)\r\n\t\t\tnoteBox.style.visibility = 'visible'\r\n\r\n\t\t\tconst newTitle = document.getElementById('modalTitle').innerHTML\r\n\t\t\tconst newText = document.getElementById('modalText').innerHTML\r\n\t\t\tmodified && updateUI(id, newTitle, newText)\r\n\t\t}\r\n\t}\r\n\tconst handleInput = ({target}) => {\r\n\t\tmodified = true\r\n\t\tconst newValue = target.innerHTML\r\n\t\tconst key = target.getAttribute('name')\r\n\t\tsaveChanges({id, title, text, [key]: newValue})\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tif (modal.whereAutofocus === 'noteTitle')\r\n\t\t\tplaceCaretAtEnd(document.getElementById('modalTitle'))\r\n\t\tif (modal.whereAutofocus === 'noteText')\r\n\t\t\tplaceCaretAtEnd(document.getElementById('modalText'))\r\n    })\r\n   \r\n    text = replaceEscapedStringWithHtmlElement(text)\r\n\r\n\treturn modal.show && (\r\n\t\t<ModalBackground onMouseDown={e=> closeModal(e.target.id)} id='modalBackground'>\r\n\t\t\t<ModalDiv darkTheme={darkTheme}>\r\n\t\t\t\t<EditNoteTitle contentEditable suppressContentEditableWarning onInput={handleInput} id='modalTitle' name='title'>{title}</EditNoteTitle>\r\n\t\t\t\t<EditNoteText contentEditable suppressContentEditableWarning onInput={handleInput} id='modalText' name='text'>{text}</EditNoteText>\r\n\t\t\t\t<EditNoteButton darkTheme={darkTheme}/>\r\n\t\t\t</ModalDiv>\r\n\t\t</ModalBackground>\r\n\t)\r\n}\r\n\r\nconst ModalBackground = styled.div`\r\n    background: rgba(0, 0, 0, 0.5); /* 1 for opacity is black */ \r\n    position: fixed;\r\n    width: 100%;\r\n    height: 100%;\r\n    top: 0;\r\n    left: 0;\r\n`\r\n\r\nconst ModalDiv = styled.div`\r\n    background: ${props => props.darkTheme ? `rgb(40, 40, 40)` : `white`};\r\n    border: solid 1px;\r\n    box-shadow: 0px 1px 3px rgba(0, 0, 0, 0.05) inset, 0px 0px 8px #cccccc;\r\n    border-radius: 5px;\r\n    position: fixed;\r\n    left: 1%;\r\n    top: 20%;\r\n    width: 89%;\r\n    display: flex;\r\n    flex-direction: column;\r\n    padding: 1em;    \r\n\r\n    @media only screen and (min-width: 1080px) {\r\n        width: 38%;\r\n        top: 35%;\r\n        left: 30%;\r\n    }\r\n`\r\n\r\nconst EditNoteTitle = styled.span`\r\n    background: none;\r\n    font-size: 1.5em;\r\n    min-height: 1.5em;\r\n    font-weight: bold;\r\n    word-wrap: break-word;\r\n    :focus {outline: 0;}\r\n    `\r\n    \r\nconst EditNoteText = styled.span`\r\n    background: none;\r\n    font-size: 1em;\r\n    min-height: 1em;\r\n    word-wrap: break-word;\r\n    :focus {outline: 0;}\r\n`\r\n\r\nconst EditNoteButton = styled.button`\r\n    color: ${props => props.darkTheme ? `white` : `black`};\r\n    background: none;\r\n    border-radius: 10px;\r\n    align-self: flex-end;\r\n    border: solid 1px transparent;\r\n    font-size: 1em;\r\n    padding: 0.2em 0.5em 0.2em 0.5em;\r\n\r\n    :hover {\r\n        border: solid 1px ${props => props.darkTheme ? `white` : `black`};\r\n    }\r\n`\r\n\r\nexport default Modal","import React, {useState, useEffect, useRef, memo} from 'react'\r\nimport {getAllNotesRequest, editNoteRequest} from '../requests'\r\nimport styled from 'styled-components'\r\nimport Note from './Note'\r\nimport Modal from './Modal'\r\nimport {findColNum} from '../helper'\r\nimport Loader from 'react-loader-spinner'\r\n\r\nconst requestDelay = 1000\r\n\r\nfunction NotesContainer2({notes, setNotes, notesVersion, setNotesVersion, ...otherProps}) {\r\n\t// TODO: add error state\r\n\tconst [loading, setLoading] = useState(true)\r\n\tconst [modal, setModal] = useState({show: false, whereAutofocus: ''})\r\n\tconst [modalNote, setModalNote] = useState({title: '', text: ''})\r\n\tconst [colNum, setColNum] = useState(findColNum())\r\n\tlet childUniqueKey = 0\r\n\tlet requestTimer = useRef(null)\r\n\t\r\n\tuseEffect(()=> {\t\t\r\n\t\t(async ()=> {\r\n\t\t\tconst {data} = await getAllNotesRequest()\r\n\t\t\tsetNotes(data.allNotes)\r\n\t\t\tsetLoading(false)\r\n\t\t})() // IIFE - Immediately Invoked Function Expression\r\n\t}, [])\r\n\r\n\t// be responsive to changing viewport\r\n\tuseEffect(() => {\r\n\t\tfunction updateColNums () {\r\n\t\t\tsetColNum(findColNum())\r\n\t\t}\r\n\t\twindow.onresize = updateColNums\r\n\t\treturn function cleanup() {\r\n\t\t\twindow.removeEventListener('resize', updateColNums)\r\n\t\t}\r\n\t}, [])\r\n\r\n\tif (loading) return (\r\n\t\t<div style={{display: 'flex', justifyContent: 'center', alignItems: 'center', height: '80%'}}>\r\n\t\t\t<Loader color='#ffffff' type='Oval' height='150' width='150' />\r\n\t\t</div>\r\n\t)\r\n\t\r\n\tconst openNoteInModal = (e, {id, title, text}) => {\r\n\t\tconst whereAutofocus = e.target.id\r\n\t\tsetModalNote({id, title, text})\r\n\t\tsetModal({show: true, whereAutofocus})\r\n\t\t// hide note when modal opens\r\n\t\tlet noteBox = document.getElementById(id)\r\n        noteBox.style.visibility = 'hidden'\r\n\t}\r\n\t\r\n\tconst saveChanges = ({id, title, text}) => {\r\n\t\tif (requestTimer.current) {\r\n\t\t\tclearTimeout(requestTimer.current)\r\n\t\t\trequestTimer.current = setTimeout(editNoteRequest, requestDelay, {id, title, text})\r\n\t\t\treturn\r\n\t\t}\r\n\t\trequestTimer.current = setTimeout(editNoteRequest, requestDelay, {id, title, text})\r\n\t}\r\n\t\r\n\tconst updateUI = (id, title, text) => {\r\n\t\tnotes.some((note, index) => {\r\n\t\t\tif (note.id === id) {\r\n\t\t\t\tconst updatedNote = {...note, title, text}   // merge\r\n\t\t\t\tconst updateNotes = [...notes] // copy\r\n\t\t\t\tupdateNotes[index] = updatedNote\r\n\t\t\t\tsetNotes(updateNotes)\r\n\t\t\t\tsetNotesVersion(notesVersion+1) // trigger a re-render\r\n\t\t\t\treturn true\r\n\t\t\t} return false\r\n\t\t})\r\n\t}\r\n\t\r\n\tconst numberOfNotes = notes.length\r\n\t\r\n\tconst columns = []\r\n\tfor (let i = 0; i < colNum; i++)\r\n\tcolumns.push([])\r\n\t\r\n\t// distributing notes to different columns\r\n\tfor (let i = 0; i < numberOfNotes; i++) {\r\n\t\tconst currentNote = notes[i]\r\n\t\tconst noteComponent = <Note openNoteInModal={openNoteInModal} key={currentNote.id} note={currentNote} {...otherProps} />\r\n\t\tconst columnIndex = i % colNum\r\n\t\tcolumns[columnIndex].push(noteComponent)\r\n\t}\r\n\t\r\n\tconst columnWidth = Math.floor(100/colNum)\r\n\t\r\n\treturn (<>\r\n\t\t<ColumnGroup>\r\n\t\t\t{ columns.map(column => <Column key={childUniqueKey++}  width={columnWidth}>{column}</Column>) }\r\n\t\t</ColumnGroup>\r\n\t\t<Modal modal={modal} setModal={setModal} note={modalNote} saveChanges={saveChanges} updateUI={updateUI}  {...otherProps}/>\r\n\t</>)\r\n}\r\n\r\nconst Column = styled.div`\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\twidth: ${props => props.width}%;\r\n`\r\n\r\nconst ColumnGroup = styled.div`\r\n\tdisplay: flex;\r\n\tjustify-content: space-around;\r\n\tmargin-top: 30px;\r\n\tmargin-left: 5%;\r\n\tmargin-right: 5%;\r\n`\r\n\r\nfunction areEqual (prevProps, nextProps) {\r\n\tif (prevProps.darkTheme !== nextProps.darkTheme) return false\r\n\tif (prevProps.notes.length !== nextProps.notes.length) return false\r\n\tif (prevProps.notesVersion !== nextProps.notesVersion) return false\r\n\treturn true\r\n}\r\n\r\nexport default memo(NotesContainer2, areEqual)","import React, {useState} from 'react'\r\nimport Navbar from './Navbar'\r\nimport NewNote from './NewNote'\r\nimport NotesContainer from './NotesContainer'\r\nimport styled from 'styled-components'\r\n\r\nfunction Home2 () {\r\n\tconst [showTitle, setShowTitle] = useState(false)\r\n\tconst [darkTheme, toggleTheme] = useDarkTheme(true)\r\n\tconst [notes, setNotes] = useState([])\r\n\tconst [notesVersion, setNotesVersion] = useState(0) // state to keep track of notes 'versions', everytime a note is modified, notes is updatd and this variable is incremented notify NotesContainer to update\r\n\treturn (\r\n\t\t\t<HomeDiv darkTheme={darkTheme} onClick={hideTitle.bind(this, setShowTitle)}>\r\n\t\t\t\t<Navbar darkTheme={darkTheme} toggleTheme={toggleTheme} />\r\n\t\t\t\t<NewNote notes={notes} setNotes={setNotes}\r\n\t\t\t\tsetShowTitle={setShowTitle}\r\n\t\t\t\tdarkTheme={darkTheme} showTitle={showTitle}/>\r\n\t\t\t\t<NotesContainer darkTheme={darkTheme} notes={notes} setNotes={setNotes} \r\n\t\t\t\t\tnotesVersion={notesVersion} setNotesVersion={setNotesVersion} />\t\r\n\t\t\t</HomeDiv>\r\n\t)\r\n}\r\n\r\nfunction hideTitle(setShowTitle, e) {\r\n\tconst id = e.nativeEvent.target.id\r\n\t// ids of elements whose own event handlers should fire instead of this one to avoid collision\r\n\tconst elementIdsToIgnore = ['theme', 'title', 'text', 'addnote', 'addNoteContainer']\r\n\tif(elementIdsToIgnore.includes(id)) return\r\n\r\n\tconst titleElement = document.getElementById('title') // eslint-disable-next-line\r\n\tconst title = titleElement && titleElement.innerHTML || ''\r\n\tconst text = document.getElementById('text').innerHTML\r\n\t// don't hide if there is text\r\n\tif(title.length > 0 || text.length > 0) return\r\n\r\n\tsetShowTitle(false)\r\n}\r\n\r\nfunction useDarkTheme (isDark) {\r\n\tconst [darkTheme, setDarkTheme] = useState(isDark)\r\n\r\n\tfunction toggleTheme() {\r\n\t\tsetDarkTheme(!darkTheme)\r\n\t}\r\n\treturn [darkTheme, toggleTheme]\r\n}\r\n\r\nconst HomeDiv = styled.div`\r\n    id: home;\r\n    font-family: 'Roboto';\r\n    background: ${props => props.darkTheme ? `rgb(18, 18, 18)` : `white`};\r\n    color: ${props => props.darkTheme ? `white` : `black`};\r\n    height: 100%;\r\n\r\n    overflow: auto; // this is needed so that background color will stretch all the way to the bottom when notes overflow past the browser screen height\r\n`\r\n\r\nexport default Home2","import React, { Component } from 'react'\r\nimport {BrowserRouter, Route, Switch} from 'react-router-dom'\r\nimport Home from './components/Home'\r\n\r\nexport default class Router extends Component {\r\n  render() {\r\n    return (\r\n      <BrowserRouter>\r\n        <Switch>\r\n          {/* this matches everything unless u add 'exact' prop */}\r\n          <Route path='/' component={Home} />\r\n        </Switch>\r\n      </BrowserRouter>\r\n    )\r\n  }\r\n}\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read http://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport Router from './Router'\r\nimport * as serviceWorker from './serviceWorker';\r\nimport './index.css'\r\n\r\nReactDOM.render(<Router />, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: http://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}