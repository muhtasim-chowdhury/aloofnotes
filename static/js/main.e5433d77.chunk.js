(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{29:function(e,t,n){e.exports=n(69)},67:function(e,t,n){},69:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(18),i=n.n(o),c=n(19),u=n(20),d=n(26),l=n(21),s=n(28),m=n(72),f=n(73),h=n(74),p=n(2),b=n(4),g=n(3),v=n(16);function x(){var e=Object(p.a)(["\n    margin-left: 1%;\n    background: inherit;\n    font-size: 24px;\n    \n    @media only screen and (max-width: 1080px) {\n        font-size: 26px;\n    }\n    "]);return x=function(){return e},e}function w(){var e=Object(p.a)(["\n    id: nav;\n    background: inherit;\n    // background: green;\n    height: 60px;\n    display:flex;\n    align-items: center;\n    justify-content: space-between;\n\n    @media only screen and (min-width: 1080px) {\n        height: 70px;\n        margin-left: 10px;\n        margin-right: 10px;\n    } \n"]);return w=function(){return e},e}function k(){var e=Object(p.a)(["\n    visibility: ",";\n    font-size: 0.8em;\n    background: ",";\n    color: ",";\n    border-radius: 5px;\n    padding: 3px;\n    position: absolute;\n    right: 8px;\n    @media only screen and (min-width: 1080px) {\n        right: 30px;\n    }\n"]);return k=function(){return e},e}function T(){var e=Object(p.a)(["\n    cursor: pointer;\n    :hover {\n        color: gray;\n    }\n"]);return T=function(){return e},e}var j="2em";var y=g.a.div(T()),E=g.a.label(k(),function(e){return e.visible?"visible":"hidden"},function(e){return e.darkTheme?"white":"black"},function(e){return e.darkTheme?"black":"white"});function O(e){var t=e.darkTheme,n=e.onClick,o=Object(r.useState)(!1),i=Object(b.a)(o,2),c=i[0],u=i[1],d=function(){return u(!1)},l=t?a.a.createElement(v.b,{size:j}):a.a.createElement(v.a,{size:j});return a.a.createElement("div",{style:{marginRight:"30px"}},a.a.createElement(y,{onClick:n,onMouseEnter:function(){return u(!0)},onBlur:d,onMouseLeave:d,tabindex:"0"},l),a.a.createElement(E,{visible:c,darkTheme:t},"Toggle theme"))}var N=g.a.div(w()),C=g.a.div(x()),I=a.a.memo(function(e){return a.a.createElement(N,null,a.a.createElement(C,null,"Home"),a.a.createElement(O,{id:"theme",onClick:function(t){e.toggleTheme()},darkTheme:e.darkTheme}))},function(e,t){return e.darkTheme===t.darkTheme}),S=n(6),M=n.n(S),B=n(12),z=n(9),A=n(7),D=n(8),L={method:"POST",headers:{"Content-Type":"application/json"}},H="https://shielded-crag-97187.herokuapp.com/graphql";var R=function(){var e=Object(D.a)(M.a.mark(function e(t){var n,r,a;return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.title,r=t.text,a=Object(A.a)({},L,{body:W({title:n,text:r})}),e.abrupt("return",fetch(H,a).then(function(e){return e.json()}));case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),W=function(e){var t=e.title,n=e.text;return'{"variables": {"input": {"title": "'.concat(t,'", "text": "').concat(n,'"}},"query":"mutation change($input: NewNote){ newNote: addNote(input: $input) {id title text } }"}')},V=function(){var e=Object(D.a)(M.a.mark(function e(){var t;return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(A.a)({},L,{body:q}),e.abrupt("return",fetch(H,t).then(function(e){return e.json()}));case 2:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),q='{"query":"{ allNotes: getAllNotes {id title text } }"}',$=function(){var e=Object(D.a)(M.a.mark(function e(t){var n,r,a,o;return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.id,r=t.title,a=t.text,o=Object(A.a)({},L,{body:F({id:n,title:r,text:a})}),e.abrupt("return",fetch(H,o).then(function(e){return e.json()}));case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),F=function(e){var t=e.id,n=e.title,r=e.text;return'{"variables": {"input": {"id": "'.concat(t,'", "title": "').concat(n,'", "text": "').concat(r,'"}},"query":"mutation edit($input: EditNote){ editNote(input: $input) {id title text } }"}')};function J(e){if(e.focus(),"undefined"!=typeof window.getSelection&&"undefined"!=typeof document.createRange){var t=document.createRange();t.selectNodeContents(e),t.collapse(!1);var n=window.getSelection();n.removeAllRanges(),n.addRange(t)}else if("undefined"!=typeof document.body.createTextRange){var r=document.body.createTextRange();r.moveToElementText(e),r.collapse(!1),r.select()}}var P=function(){return Math.floor(window.innerWidth/300)};function U(e){return e.includes("<div>")&&(e=(e=e.replace(/<\/div>/g,"")).replace(/<div>/g,"<br>")),e.split("<br>").map(function(e,t){return 0!==t?a.a.createElement(a.a.Fragment,null,a.a.createElement("br",null),e):e})}function K(e){13===e.keyCode&&(e.preventDefault(),document.querySelector("#text").focus())}function G(){var e=Object(p.a)(["\n    cursor: ",";\n    background: inherit;\n    border-radius: 10px;\n    border: none;\n    padding: 0.2em 0.5em 0.2em 0.5em;\n    margin-right: 0.5em;\n    margin-bottom: 0.3em;\n    color: inherit;\n    font-size: 16px;\n    border: solid 1px transparent;\n    align-self: flex-end;\n    ","\n"]);return G=function(){return e},e}function Q(){var e=Object(p.a)(["\n    border:none;\n    width:96%;\n    border-radius: 10px;\n    padding: 1%;\n    margin: 0.5em;\n    font-size: 18px;\n    word-wrap: break-word;\n\n    :empty:before {\n        content:attr(data-placeholder);\n        color: gray;\n    }\n    :focus {outline: 0;}\n"]);return Q=function(){return e},e}function X(){var e=Object(p.a)(["\n    background: ",";\n    border-radius: 5px;\n    box-shadow: 0px 1px 3px rgba(0, 0, 0, 0.05) inset, 0px 0px 8px ",";\n    margin-right:auto;\n    margin-left: auto;\n    margin-top: 2em;\n    width:97%;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: space-around;\n    /*background:*/\n    \n    @media only screen and (min-width: 1080px) {\n        width:40%;\n    }\n"]);return X=function(){return e},e}function Y(){return(Y=Object(D.a)(M.a.mark(function e(t){var n,r,a,o,i,c,u,d,l,s,m;return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.note,r=t.setNote,a=t.setShowTitle,o=t.setDisabled,i=t.notes,c=t.setNotes,u=n.title,d=n.text,d=d.replace(/\n/gi," ").replace(/"/gi,'\\"'),document.getElementById("title").innerHTML="",document.getElementById("text").innerHTML="",r({title:"",text:""}),o(!0),a(!1),e.next=10,R({title:u,text:d});case 10:l=e.sent,s=l.data.newNote,m=[s].concat(Object(B.a)(i)),c(m);case 14:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Z(e){var t=e.note,n=e.setNote,r=e.setDisabled;return e.showTitle?a.a.createElement(ne,{id:"title",name:"title",suppressContentEditableWarning:!0,contentEditable:!0,"data-placeholder":"Add a title...",onInput:ee.bind(this,t,n,r),onKeyDown:K}):null}function _(e){var t=e.note,n=e.setNote,r=e.setDisabled;return a.a.createElement(ne,{id:"text",name:"text",contentEditable:!0,suppressContentEditableWarning:!0,"data-placeholder":"Add a note...",onInput:ee.bind(this,t,n,r),onPaste:function(e){e.preventDefault();var t=e.clipboardData.getData("text/plain");document.execCommand("insertHTML",!1,t)}})}function ee(e,t,n,r){var a=r.target.getAttribute("name"),o=r.target.innerHTML;t(e=Object(A.a)({},e,Object(z.a)({},a,o))),0===e.title.length&&0===e.text.length?n(!0):n(!1)}var te=g.a.div(X(),function(e){return e.darkTheme?"rgb(40, 40, 40)":"white"},function(e){return e.darkTheme?"white":"#999999"}),ne=g.a.span(Q()),re=g.a.button(G(),function(e){return e.disabled?"normal":"pointer"},function(e){return e.disabled?null:":hover {\n            border: solid 1px ".concat(e.darkTheme?"white":"black",";\n        }")});var ae=a.a.memo(function(e){var t=Object(r.useState)({title:"",text:""}),n=Object(b.a)(t,2),o=n[0],i=n[1],c=Object(r.useState)(!0),u=Object(b.a)(c,2),d=u[0],l=u[1],s=e.notes,m=e.setNotes,f=e.showTitle,h=e.setShowTitle,p=e.darkTheme,g={note:o,setNote:i,setShowTitle:h,setDisabled:l,notes:s,setNotes:m};return a.a.createElement(te,{id:"addNoteContainer",onClick:function(e){return function(e,t){"addnote"!==t.nativeEvent.target.id&&e(!0)}(h,e)},darkTheme:p,autoComplete:"off"},a.a.createElement(Z,{setDisabled:l,showTitle:f,note:o,setNote:i}),a.a.createElement(_,{setDisabled:l,setNote:i,note:o}),f?a.a.createElement(re,{id:"addnote",type:"submit",disabled:d,onClick:function(){return function(e){return Y.apply(this,arguments)}(g)},darkTheme:p},"Add"):null)},function(e,t){return e.showTitle===t.showTitle&&e.darkTheme===t.darkTheme});function oe(){var e=Object(p.a)(["\n    margin-top: 1em;\n    height: 100%; //make it fill up the rest of the noteBox\n"]);return oe=function(){return e},e}function ie(){var e=Object(p.a)(["\n    font-size: 20px;\n    "]);return ie=function(){return e},e}function ce(){var e=Object(p.a)(["\n    background: ",";\n    border-radius: 5px;\n    margin: 3% 1% 3% 1%;\n    padding: 3%;\n\tdisplay: flex;\n\t// word-wrap: anywhere;\n\tword-break: break-word;\n    flex-direction: column;\n    justify-content: flex-start;\n    @media only screen and (min-width: 1080px) {\n\t\tmargin: 3%;\n\t}\n\tborder: solid 1px ",";\n\t:hover {\n\t\tbox-shadow: 0px 1px 4px ","\n\t}\n"]);return ce=function(){return e},e}function ue(e){var t=e.note,n=t.id,r=t.title,o=t.text,i=e.openNoteInModal,c=e.darkTheme,u=U(o);return a.a.createElement(de,{id:n,darkTheme:c,onClick:function(e){return i(e,{id:n,title:r,text:o})}},a.a.createElement(le,{id:"noteTitle"},r),a.a.createElement(se,{id:"noteText"},u))}var de=g.a.div(ce(),function(e){return e.darkTheme?"rgb(40, 40, 40)":"white"},function(e){return e.darkTheme?"#666666":"#999999"},function(e){return e.darkTheme?"white":"black"}),le=g.a.span(ie()),se=g.a.span(oe());function me(){var e=Object(p.a)(["\n    color: ",";\n    background: none;\n    border-radius: 10px;\n    align-self: flex-end;\n    border: solid 1px transparent;\n    font-size: 1em;\n    padding: 0.2em 0.5em 0.2em 0.5em;\n\n    :hover {\n        border: solid 1px ",";\n    }\n"]);return me=function(){return e},e}function fe(){var e=Object(p.a)(["\n    background: none;\n    font-size: 1em;\n    min-height: 1em;\n    word-wrap: break-word;\n    :focus {outline: 0;}\n"]);return fe=function(){return e},e}function he(){var e=Object(p.a)(["\n    background: none;\n    font-size: 1.5em;\n    min-height: 1.5em;\n    font-weight: bold;\n    word-wrap: break-word;\n    :focus {outline: 0;}\n    "]);return he=function(){return e},e}function pe(){var e=Object(p.a)(["\n    background: ",";\n    border: solid 1px;\n    box-shadow: 0px 1px 3px rgba(0, 0, 0, 0.05) inset, 0px 0px 8px #cccccc;\n    border-radius: 5px;\n    position: fixed;\n    left: 1%;\n    top: 20%;\n    width: 89%;\n    display: flex;\n    flex-direction: column;\n    padding: 1em;    \n\n    @media only screen and (min-width: 1080px) {\n        width: 38%;\n        top: 35%;\n        left: 30%;\n    }\n"]);return pe=function(){return e},e}function be(){var e=Object(p.a)(["\n    background: rgba(0, 0, 0, 0.5); /* 1 for opacity is black */ \n    position: fixed;\n    width: 100%;\n    height: 100%;\n    top: 0;\n    left: 0;\n"]);return be=function(){return e},e}var ge=g.a.div(be()),ve=g.a.div(pe(),function(e){return e.darkTheme?"rgb(40, 40, 40)":"white"}),xe=g.a.span(he()),we=g.a.span(fe()),ke=g.a.button(me(),function(e){return e.darkTheme?"white":"black"},function(e){return e.darkTheme?"white":"black"}),Te=function(e){var t=e.note,n=t.id,o=t.title,i=t.text,c=e.modal,u=e.setModal,d=e.saveChanges,l=e.updateUI,s=e.darkTheme,m=!1,f=function(e){var t=e.target;m=!0;var r=t.innerHTML,a=t.getAttribute("name");d(Object(z.a)({id:n,title:o,text:i},a,r))};return Object(r.useEffect)(function(){"noteTitle"===c.whereAutofocus&&J(document.getElementById("modalTitle")),"noteText"===c.whereAutofocus&&J(document.getElementById("modalText"))}),i=U(i),c.show&&a.a.createElement(ge,{onMouseDown:function(e){return function(e){if("modalBackground"===e){u({show:!1,whereAutofocus:""}),document.getElementById(n).style.visibility="visible";var t=document.getElementById("modalTitle").innerHTML,r=document.getElementById("modalText").innerHTML;m&&l(n,t,r)}}(e.target.id)},id:"modalBackground"},a.a.createElement(ve,{darkTheme:s},a.a.createElement(xe,{contentEditable:!0,suppressContentEditableWarning:!0,onInput:f,id:"modalTitle",name:"title"},o),a.a.createElement(we,{contentEditable:!0,suppressContentEditableWarning:!0,onInput:f,id:"modalText",name:"text"},i),a.a.createElement(ke,{darkTheme:s})))},je=n(24),ye=n.n(je);function Ee(){var e=Object(p.a)(["\n\tdisplay: flex;\n\tjustify-content: space-around;\n\tmargin-top: 30px;\n\tmargin-left: 5%;\n\tmargin-right: 5%;\n"]);return Ee=function(){return e},e}function Oe(){var e=Object(p.a)(["\n\tdisplay: flex;\n\tflex-direction: column;\n\twidth: ","%;\n"]);return Oe=function(){return e},e}var Ne=1e3;var Ce=g.a.div(Oe(),function(e){return e.width}),Ie=g.a.div(Ee());var Se=Object(r.memo)(function(e){var t=e.notes,n=e.setNotes,o=e.notesVersion,i=e.setNotesVersion,c=e.darkTheme,u=Object(r.useState)(!0),d=Object(b.a)(u,2),l=d[0],s=d[1],m=Object(r.useState)({show:!1,whereAutofocus:""}),f=Object(b.a)(m,2),h=f[0],p=f[1],g=Object(r.useState)({title:"",text:""}),v=Object(b.a)(g,2),x=v[0],w=v[1],k=Object(r.useState)(P()),T=Object(b.a)(k,2),j=T[0],y=T[1],E=0,O=Object(r.useRef)(null);if(Object(r.useEffect)(function(){Object(D.a)(M.a.mark(function e(){var t,r;return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V();case 2:t=e.sent,r=t.data,n(r.allNotes),s(!1);case 6:case"end":return e.stop()}},e)}))()},[]),Object(r.useEffect)(function(){function e(){y(P())}return window.onresize=e,function(){window.removeEventListener("resize",e)}},[]),l)return a.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"80%"}},a.a.createElement(ye.a,{color:c?"#ffffff":"#000000",type:"Oval",height:"150",width:"150"}));for(var N=function(e,t){var n=t.id,r=t.title,a=t.text,o=e.target.id;w({id:n,title:r,text:a}),p({show:!0,whereAutofocus:o}),document.getElementById(n).style.visibility="hidden"},C=t.length,I=[],S=0;S<j;S++)I.push([]);for(var z=0;z<C;z++){var L=t[z],H=a.a.createElement(ue,{openNoteInModal:N,key:L.id,note:L,darkTheme:c});I[z%j].push(H)}var R=Math.floor(100/j);return a.a.createElement(a.a.Fragment,null,a.a.createElement(Ie,null,I.map(function(e){return a.a.createElement(Ce,{key:E++,width:R},e)})),a.a.createElement(Te,{modal:h,setModal:p,note:x,saveChanges:function(e){var t=e.id,n=e.title,r=e.text;if(O.current)return clearTimeout(O.current),void(O.current=setTimeout($,Ne,{id:t,title:n,text:r}));O.current=setTimeout($,Ne,{id:t,title:n,text:r})},updateUI:function(e,r,a){t.some(function(c,u){if(c.id===e){var d=Object(A.a)({},c,{title:r,text:a}),l=Object(B.a)(t);return l[u]=d,n(l),i(o+1),!0}return!1})},darkTheme:c}))},function(e,t){return e.darkTheme===t.darkTheme&&e.notes.length===t.notes.length&&e.notesVersion===t.notesVersion});function Me(){var e=Object(p.a)(["\n    id: home;\n    font-family: 'Roboto';\n    background: ",";\n    color: ",";\n    height: 100%;\n\n    overflow: auto; // this is needed so that background color will stretch all the way to the bottom when notes overflow past the browser screen height\n"]);return Me=function(){return e},e}function Be(e,t){var n=t.nativeEvent.target.id;if(!["theme","title","text","addnote","addNoteContainer"].includes(n)){var r=document.getElementById("title"),a=r&&r.innerHTML||"",o=document.getElementById("text").innerHTML;a.length>0||o.length>0||e(!1)}}var ze=g.a.div(Me(),function(e){return e.darkTheme?"rgb(18, 18, 18)":"white"},function(e){return e.darkTheme?"white":"black"}),Ae=function(){var e=Object(r.useState)(!1),t=Object(b.a)(e,2),n=t[0],o=t[1],i=function(e){var t=Object(r.useState)(e),n=Object(b.a)(t,2),a=n[0],o=n[1];return[a,function(){o(!a)}]}(!1),c=Object(b.a)(i,2),u=c[0],d=c[1],l=Object(r.useState)([]),s=Object(b.a)(l,2),m=s[0],f=s[1],h=Object(r.useState)(0),p=Object(b.a)(h,2),g=p[0],v=p[1];return a.a.createElement(ze,{darkTheme:u,onClick:Be.bind(this,o)},a.a.createElement(I,{darkTheme:u,toggleTheme:d}),a.a.createElement(ae,{notes:m,setNotes:f,setShowTitle:o,darkTheme:u,showTitle:n}),a.a.createElement(Se,{darkTheme:u,notes:m,setNotes:f,notesVersion:g,setNotesVersion:v}))},De=function(e){function t(){return Object(c.a)(this,t),Object(d.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return a.a.createElement(m.a,null,a.a.createElement(f.a,null,a.a.createElement(h.a,{path:"/",component:Ae})))}}]),t}(r.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(67);i.a.render(a.a.createElement(De,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[29,2,1]]]);
//# sourceMappingURL=main.e5433d77.chunk.js.map