{"version":3,"sources":["components/Navbar.js","queries/index.js","components/NewNote.js","components/Notes.js","App.js","serviceWorker.js","index.js"],"names":["Navbar","react_default","a","createElement","className","id","React","Component","getAllNotesQuery","gql","_templateObject","addNoteMutation","_templateObject2","NewNote","state","title","text","disabled","handleChange","event","_this","setState","Object","defineProperty","target","name","value","document","getElementById","length","handleClick","stopPropagation","props","displayTitleInputBox","turnOnTitleBox","handleAddNote","mutate","preventDefault","variables","input","_this2","this","react_apollo_browser_umd","mutation","update","cache","result","allNotes","readQuery","query","writeQuery","data","concat","addNote","onSubmit","bind","onClick","placeholder","onChange","type","Notes","createNotes","_ref","map","note","key","contentEditable","suppressContentEditableWarning","_ref2","loading","error","console","log","App","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","turnOffTitleBox","noteTitle","newNoteChildComponent","myUri","process","client","ApolloClient","uri","Navbar_Navbar","NewNote_NewNote","ref","Notes_Notes","Boolean","window","location","hostname","match","ReactDOM","render","src_App_0","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.6b4a560c.chunk.js","sourcesContent":["import React from 'react'\r\nimport './Navbar.css'\r\n\r\nexport default class Navbar extends React.Component {\r\n    render(){\r\n        return (\r\n            <div className='nav'>\r\n                <span id='home'>Home</span>\r\n            </div>\r\n        )\r\n    }\r\n}","import gql from 'graphql-tag'\r\n\r\nexport const getAllNotesQuery = gql`\r\n                {\r\n                    allNotes: getAllNotes{\r\n                        id\r\n                        title\r\n                        text\r\n                        created\r\n                    }\r\n                }\r\n                `\r\nexport const addNoteMutation = gql`\r\n    mutation change($input:NewNote) {\r\n        addNote(input:$input) {\r\n        id\r\n        title\r\n        text\r\n        created\r\n        }\r\n    }\r\n`\r\n","import React from 'react'\r\nimport {Mutation} from 'react-apollo'\r\nimport {addNoteMutation, getAllNotesQuery} from '../queries/index'\r\nimport './NewNote.css'\r\n\r\nexport default class NewNote extends React.Component{\r\n    state = {title: \"\", text:\"\", disabled:true}\r\n    \r\n    // let user type into the box\r\n    handleChange = (event)=> {\r\n        this.setState({[event.target.name]: event.target.value})\r\n        // disable add note button if no text\r\n        if (document.getElementById('text').value.length === 0) this.setState({disabled: true})\r\n        else this.setState({disabled: false})\r\n    }\r\n    \r\n    // turn on title input box\r\n    handleClick = (event) => {\r\n        // prevent confliction with handleClick on the parent component\r\n        event.stopPropagation()\r\n        if(!this.props.displayTitleInputBox)\r\n            this.props.turnOnTitleBox()\r\n    }\r\n\r\n    handleAddNote = (mutate, event)=> {\r\n        event.preventDefault()\r\n        const title = event.target[0].value\r\n        const text = event.target[1].value\r\n\r\n        // clear form\r\n        this.setState({title: '', text: ''})\r\n\r\n        // disable button\r\n        this.setState({disabled: true})\r\n\r\n        // make request\r\n        mutate(\r\n            {variables: \r\n                { input: \r\n                    {\r\n                        \"title\": title,\r\n                        \"text\": text\r\n                    } \r\n                }\r\n            }\r\n        )\r\n}\r\n\r\n    render() {\r\n        return (\r\n            <Mutation mutation={addNoteMutation}\r\n            update={(cache, result)=> {\r\n                let {allNotes} = cache.readQuery({query: getAllNotesQuery })\r\n                cache.writeQuery({\r\n                    query: getAllNotesQuery,\r\n                    data: {allNotes: allNotes.concat([result.data.addNote])}\r\n                })\r\n            }}\r\n            >\r\n            {\r\n                (mutate, result) => {\r\n                    return (\r\n                        <div id='addNoteContainer'>\r\n                            <form id='addNoteForm' onSubmit={this.handleAddNote.bind(this, mutate)} onClick={this.handleClick}>\r\n                                {\r\n                                    this.props.displayTitleInputBox ? \r\n                                    <input className='addNoteInput' placeholder=\"Add title\" name='title'\r\n                                    value={this.state.title}\r\n                                    onChange={this.handleChange}/> : null\r\n                                }\r\n                                <br/>\r\n                                <input id='text' className='addNoteInput' placeholder=\"Add a note\" name='text'\r\n                                value={this.state.text} \r\n                                onChange={this.handleChange}/>\r\n                                <button id='addNoteButton' type='submit' disabled={this.state.disabled}>Add</button>\r\n                            </form>\r\n                        </div>\r\n                    )\r\n                }\r\n            }\r\n            </Mutation>\r\n        )\r\n    }\r\n}","import React from 'react' \r\nimport {Query} from 'react-apollo'\r\nimport {getAllNotesQuery} from '../queries'\r\nimport './Notes.css'\r\n\r\nexport default class Notes extends React.Component{\r\n\r\n    // by the way, this query will execute upon every rerender\r\n    // make sure theres not too mant rerenders\r\n    createNotes = ({allNotes})=> {\r\n        return (\r\n            <div id='allNotesContainer'>\r\n                {\r\n                    // TODO: remove suppressContentEditableWarning={true} ??\r\n                    allNotes.map(\r\n                        note => {\r\n                            return (\r\n                                <div id='noteBox' key={note.id}>\r\n                                    <span contentEditable id='noteTitle' suppressContentEditableWarning={true}>{note.title}</span>\r\n                                    <br/>\r\n                                    <span contentEditable id='noteText' suppressContentEditableWarning={true}>{note.text}</span>\r\n                                </div>\r\n                            )\r\n                        }\r\n                    )\r\n                }\r\n            </div>\r\n        )\r\n        \r\n        \r\n        \r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <Query\r\n                query={getAllNotesQuery}>\r\n                \r\n                {\r\n                    ({ loading, error, data }) => {\r\n                    if (loading) return <p>Loading...</p>\r\n                    if (error) {\r\n                        console.log(error)\r\n                        return 'error'\r\n                    }               \r\n                    return this.createNotes(data)\r\n                    }\r\n                }\r\n                \r\n  </Query>\r\n        )\r\n    }\r\n}","import React, { Component } from 'react';\r\nimport Navbar from './components/Navbar'\r\nimport NewNote from './components/NewNote'\r\nimport Notes from './components/Notes';\r\nimport {ApolloProvider} from 'react-apollo'\r\nimport ApolloClient from 'apollo-boost'\r\nimport './App.css';\r\n\r\nclass App extends Component {\r\n\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {displayTitleInputBox: false}\r\n    let myUri = 'http://localhost:5000/graphql'\r\n    console.log('process', process.env.NODE_ENV)\r\n    if (process.env.NODE_ENV === 'production') myUri = '/graphql'\r\n    this.client = new ApolloClient({uri:myUri})\r\n    // TODO: change uri when you are deploying\r\n  }\r\n\r\n\r\n  turnOnTitleBox = () => this.setState({displayTitleInputBox: true})\r\n  \r\n  turnOffTitleBox = () => {\r\n    // retriving a state variable from the child component 'NewNote'\r\n    const noteTitle = this.newNoteChildComponent.state.title\r\n\r\n    // don't hide title box if there is text in it\r\n    if(this.state.displayTitleInputBox && noteTitle.length === 0)\r\n      this.setState({displayTitleInputBox: false})\r\n  }\r\n\r\n\r\n  render() {\r\n    return (\r\n      <ApolloProvider client={this.client} >\r\n        <div onClick={this.turnOffTitleBox}>\r\n          <Navbar/>\r\n          <NewNote displayTitleInputBox={this.state.displayTitleInputBox} turnOnTitleBox={this.turnOnTitleBox}\r\n          ref={(newNoteChildComponent)=> this.newNoteChildComponent = newNoteChildComponent}/>\r\n          <br/><br/>\r\n          <Notes/>\r\n        </div>\r\n      </ApolloProvider>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}