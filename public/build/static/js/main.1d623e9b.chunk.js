(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{51:function(e,t,n){e.exports=n(84)},56:function(e,t,n){},58:function(e,t,n){},60:function(e,t,n){},70:function(e,t,n){},72:function(e,t,n){},84:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),l=n(35),r=n.n(l),i=(n(56),n(3)),c=n(4),u=n(6),d=n(5),s=n(7),p=(n(58),function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"nav"},o.a.createElement("span",{id:"home"},"Home"))}}]),t}(o.a.Component)),h=n(36),m=n(9),b=n(27),f=n(28),v=n.n(f);function g(){var e=Object(b.a)(["\n    mutation change($input:NewNote) {\n        addNote(input:$input) {\n        id\n        title\n        text\n        created\n        }\n    }\n"]);return g=function(){return e},e}function E(){var e=Object(b.a)(["\n                {\n                    allNotes: getAllNotes{\n                        id\n                        title\n                        text\n                        created\n                    }\n                }\n                "]);return E=function(){return e},e}var O=v()(E()),y=v()(g()),N=(n(60),function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return(n=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(o)))).state={title:"",text:"",disabled:!0},n.handleChange=function(e){n.setState(Object(h.a)({},e.target.name,e.target.value)),0===document.getElementById("text").value.length?n.setState({disabled:!0}):n.setState({disabled:!1})},n.handleClick=function(e){e.stopPropagation(),n.props.displayTitleInputBox||n.props.turnOnTitleBox()},n.handleAddNote=function(e,t){console.log("handleAddNote"),t.preventDefault();var a=t.target[0].value,o=t.target[1].value;t.target[0].value="",t.target[1].value="",n.setState({disabled:!0}),e({variables:{input:{title:a,text:o}}})},n}return Object(s.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement(m.Mutation,{mutation:y,update:function(e,t){console.log("update"),console.log("result in update",t);var n=e.readQuery({query:O}).allNotes;console.log("allNotes",n),e.writeQuery({query:O,data:{allNotes:n.concat([t.data.addNote])}})}},function(t,n){return console.log("result in renderProp",n),o.a.createElement("div",{id:"addNoteContainer"},o.a.createElement("form",{id:"addNoteForm",onSubmit:e.handleAddNote.bind(e,t),onClick:e.handleClick},e.props.displayTitleInputBox?o.a.createElement("input",{className:"addNoteInput",placeholder:"Add title",name:"title",value:e.state.title,onChange:e.handleChange}):null,o.a.createElement("br",null),o.a.createElement("input",{id:"text",className:"addNoteInput",placeholder:"Add a note",name:"text",value:e.state.note,onChange:e.handleChange}),o.a.createElement("button",{id:"addNoteButton",type:"submit",disabled:e.state.disabled},"Add")))})}}]),t}(o.a.Component)),x=(n(70),function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,l=new Array(a),r=0;r<a;r++)l[r]=arguments[r];return(n=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(l)))).createNotes=function(e){var t=e.allNotes;return console.log("allNotes in notes.js",t),o.a.createElement("div",{id:"allNotesContainer"},t.map(function(e){return o.a.createElement("div",{id:"noteBox",key:e.id},o.a.createElement("span",{contentEditable:!0,id:"noteTitle",suppressContentEditableWarning:!0},e.title),o.a.createElement("br",null),o.a.createElement("span",{contentEditable:!0,id:"noteText",suppressContentEditableWarning:!0},e.text))}))},n}return Object(s.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement(m.Query,{query:O},function(t){var n=t.loading,a=t.error,l=t.data;return n?o.a.createElement("p",null,"Loading..."):a?(console.log(a),"error"):e.createNotes(l)})}}]),t}(o.a.Component)),j=n(48),C=(n(72),function(e){function t(e){var n;Object(i.a)(this,t),(n=Object(u.a)(this,Object(d.a)(t).call(this,e))).turnOnTitleBox=function(){return n.setState({displayTitleInputBox:!0})},n.turnOffTitleBox=function(){var e=n.newNoteChildComponent.state.title;n.state.displayTitleInputBox&&0===e.length&&n.setState({displayTitleInputBox:!1})},n.state={displayTitleInputBox:!1};var a="http://localhost:5000/graphql";return a="/graphql",n.client=new j.a({uri:a}),n}return Object(s.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement(m.ApolloProvider,{client:this.client},o.a.createElement("div",{onClick:this.turnOffTitleBox},o.a.createElement(p,null),o.a.createElement(N,{displayTitleInputBox:this.state.displayTitleInputBox,turnOnTitleBox:this.turnOnTitleBox,ref:function(t){return e.newNoteChildComponent=t}}),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement(x,null)))}}]),t}(a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(o.a.createElement(C,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[51,2,1]]]);
//# sourceMappingURL=main.1d623e9b.chunk.js.map